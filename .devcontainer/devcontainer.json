// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/alpine
{
	"name": "vscode",
	"image": "mcr.microsoft.com/devcontainers/base:alpine-3.18",
	// Run devcontainer with podman in rootless mode
	// https://medium.com/@guillem.riera/making-visual-studio-code-devcontainer-work-properly-on-rootless-podman-8d9ddc368b30
	// https://zenn.dev/forrep/articles/8c0304ad420c8e
	// https://github.com/containers/podman/issues/17560
	"runArgs": [
		"--userns=keep-id:uid=1000,gid=1000"
	],
	"containerUser": "vscode",
	"updateRemoteUserUID": true,
	"postCreateCommand": "git config --global --add safe.directory '*'"
}
